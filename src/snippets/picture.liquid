{%- assign format = 'jpg' -%}
{%- if gif -%}
	{%- assign format = 'gif' -%}
{%- endif -%}
{%- assign classes = extraClasses -%}
{%- if fw -%} 
	{%- assign classes = classes | append: ' fw-xs' -%}
{%- endif -%}
{%- assign largeSuffix = 'lg' -%}
{%- if mdSupport -%} 
	{%- assign largeSuffix = 'md' -%}
{%- endif -%}
<picture {% if classes %}class="{{ classes }}"{% endif %}>
    {% if xxl %}
    <source srcset="https://cdn.shopify.com/s/files/1/2185/1497/files/{{ name }}-xxl.{{ format }}?{{ assetVersion }}" media="(min-width: 1921px)" />
    <source srcset="https://cdn.shopify.com/s/files/1/2185/1497/files/{{ name }}-xl.{{ format }}?{{ assetVersion }}" media="(min-width: 1700px)" />
    {% endif %} 
    {% comment %} using lg here instead of md for backwards compatibility after dropping md support {% endcomment %}
    <source srcset="https://cdn.shopify.com/s/files/1/2185/1497/files/{{ name }}-{{ largeSuffix }}.{{ format }}?{{ assetVersion }}, https://cdn.shopify.com/s/files/1/2185/1497/files/{{ name }}-{{ largeSuffix }}2x.{{ format }}?{{ assetVersion }} 2x" media="(min-width: {{ screenMd }})" />
    <source srcset="https://cdn.shopify.com/s/files/1/2185/1497/files/{{ name }}-sm.{{ format }}?{{ assetVersion }}" media="(min-width: {{ screenSm }})" />
    <img src="https://cdn.shopify.com/s/files/1/2185/1497/files/{{ name }}-xs.{{ format }}?{{ assetVersion }}" alt="{{ alt }}" />
</picture>
{%- assign gif = nil -%}
{%- assign fw = nil -%}
{%- assign classes = nil -%}
{%- assign extraClasses = nil -%}
{%- assign mdSupport = nil -%}